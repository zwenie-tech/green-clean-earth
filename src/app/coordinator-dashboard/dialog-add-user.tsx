"use client";

import { Button } from "@/components/ui/button";
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogHeader,
  DialogTitle,
  DialogTrigger,
} from "@/components/ui/dialog";
import { LinkIcon, Copy } from "lucide-react";
import Link from "next/link";
import { useState } from "react";
import { baseURL } from "@/app/requestsapi/request";
import { useToast } from "@/components/ui/use-toast";
import { useSearchParams } from "next/navigation";

export function DialogAddUser() {
  const { toast } = useToast();
  const searchParams = useSearchParams();

  const id = searchParams.get("id");
  const referral_code = "user" + id!.toString();
  const message = `
 
๐ฅฆ
เดชเตเดฐเดฟเดฏเดชเตเดชเตเดเตเดเดตเดฐเต 

 เดเตเดฐเดณเดคเตเดคเดฟเตฝ เดจเดฟเดจเตเดจเตเด เดเดฐเตเดเตเดเดฟ เดตเตเดเตเดทเดคเตเดคเตเดเตพ  เดจเดเตเดเต เดตเดณเตผเดคเตเดคเดฟ เดชเดฐเดฟเดชเดพเดฒเดฟเดเตเดเต  เดเดคเดฟเดจเตเดฑเต เดเดฐเต เดฎเตเดจเตเดจเตเดฎเดพเดธเดคเตเดคเตเดฏเตเด เดตเดณเตผเดเตเด เดชเตเดฐเดเดเดฎเดพเดเตเดจเตเดจ เดซเตเดเตเดเต  www.GreenCleanEarth.org เดเดจเตเดจ เดตเตเดฌเตเดธเตเดฑเตเดฑเดฟเตฝ เดชเตเดฐเดธเดฟเดฆเตเดงเตเดเดฐเดฟเดเตเดเต  เดเดเตเดฏเดฐเดพเดทเตเดเตเดฐเดธเดญเดฏเตเดเต เดชเดฐเดฟเดธเตเดฅเดฟเดคเดฟ เดตเดฟเดญเดพเดเดฎเดพเดฏ เดฏเต.เดเตป.เด.เดชเดฟ.เดฏเดฟเดฒเตเดเตเดเต  เดธเดฎเตผเดชเตเดชเดฟเดเตเดเตเดตเดพเตป เดฒเดเตเดทเตเดฏเดฎเดฟเดเตเดจเตเดจ  เดเตเดฐเตเตป เดเตเดฒเตเตป เดเตเดฐเดณ เดตเตเดเตเดทเดคเตเดคเต เดชเดฐเดฟเดชเดพเดฒเดจ เดฎเดคเตเดธเดฐเดคเตเดคเดฟเดฒเตเด  เดเดคเตเดเตเดชเตเดชเด เดเดณเตเดณ  เดนเดฐเดฟเดค -เดเดฒเดพ- เดถเดพเดธเตเดคเตเดฐ เดฎเดคเตเดธเดฐเดเตเดเดณเดฟเดฒเตเด  เดจเดฎเตเดฎเตเดเต เดธเตเดฅเดพเดชเดจเดตเตเด เดชเดเตเดเตเดเตเดเตเดเตเดจเตเดจเตเดฃเตเดเต. 
๐ฅฆ
 เดจเดฎเตเดฎเตเดเต เดตเดฟเดฆเตเดฏเดพเดฒเดฏเดตเตเด เดตเตเดเตเด เดชเดฐเดฟเดธเดฐเดตเตเด เดฎเดพเดฒเดฟเดจเตเดฏเดฎเตเดเตเดคเดตเตเด เดนเดฐเดฟเดคเดพเดญเดตเตเด เดเดเตเดเตเดตเดพเดจเตเดณเตเดณ เดชเตเดฐเดตเตผเดคเตเดคเดจเดเตเดเตพ เดจเดเดคเตเดคเตเดจเตเดจ
เด เดฎเดคเตเดธเดฐเดเตเดเดณเดฟเตฝ เดฎเดฟเดเดเตเด เดชเตเดฐเดเดเดจเด เดเตเดฏเตเดฏเตเดจเตเดจ  เดตเตเดฏเดเตเดคเดฟเดเตพเดเตเดเตเด เดธเตเดฅเดพเดชเดจเดเตเดเตพเดเตเดเตเดฎเดพเดฏเดฟ  เดชเตเดฐเตเดซเดธเตผ เดถเตเดญเตเดจเตเดฆเตเดฐ เดจเตเดฑเต เดชเตเดฐเดฟเดฒเตเดณเตเดณ เดเดฐเต เดฒเดเตเดทเด เดฐเตเดชเดฏเตเดเต เดชเตเดฐเดธเตเดเดพเดฐเดเตเดเดณเตเด เดธเดฎเตเดฎเดพเดจเดเตเดเดณเตเด เดเดฃเตเดเต.
๐ฅฆ
 เด เดฎเดคเตเดธเดฐเดเตเดเดณเดฟเตฝ เดชเดเตเดเตเดเตเดเตเดเตเดตเดพเดจเดพเดฏเดฟ  เดเดฒเตเดฒเดพ เดเดงเตเดฏเดพเดชเดเดฐเตเด  เด เดฒเดฟเดเตเดเดฟเตฝ เดเตเดฒเดฟเดเตเดเต เดเตเดฏเตเดคเต  เดฐเดเดฟเดธเตเดเตเดฐเตเดทเตป เดจเดเดคเตเดคเดฟ เดเดฐเต เดฏเตเดธเตผ เดจเตเดฏเดฟเด เดชเดพเดธเตเดธเตโเดตเตเตผเดกเตเด เดเตเดฐเดฟเดฏเตเดฑเตเดฑเต เดเตเดฏเตเดคเต  เดตเดฟเดฆเตเดฏเดพเตผเดคเตเดฅเดฟเดเตพเดเตเดเต เดเดฏเดเตเดเตเดเตเดเตเดเตเดเตเดเดฏเตเด , 
 เดเดตเตผ เด เดตเตผเดทเด เดจเดเตเดเต เดตเดณเตผเดคเตเดคเดฟเดฏ เดคเตเดเดณเตเดเต เดเตเดเต  เดเดฐเต เดธเตเตฝเดซเดฟ เดเดเตเดคเตเดคเต, เดเดฐเต เดฎเตเดจเตเดจเตเดฎเดพเดธเด เดเตเดเตเดฎเตเดชเตเดดเตเด   เด เดตเตเดฌเตเดธเตเดฑเตเดฑเดฟเตฝ เดเดชเตโเดฒเตเดกเต เดเตเดฏเตเดฏเดฃเดฎเตเดจเตเดจเต  เดจเดฟเตผเดฆเตเดฆเตเดถเดฟเดเตเดเดฃเดฎเตเดจเตเดจเตเด เดเดญเตเดฏเตผเดคเตเดฅเดฟเดเตเดเตเดจเตเดจเต
๐ฅฆ
 เดคเดพเดดเตเดเตเดเตเดเตเดคเตเดค เดฒเดฟเดเตเดเดฟเตฝ เดเตเดฒเดฟเดเตเดเต เดเตเดฏเตเดคเต  เดฐเดเดฟเดธเตเดฑเตเดฑเตผ เดเตเดฏเตเดคเดคเดฟเดจเตเดถเตเดทเด เดฏเตเดธเตผ เดจเตเดฏเตเดฎเตเด เดชเดพเดธเตเดธเตโเดตเตเตผเดกเตเด  เดเตเดฐเดฟเดฏเตเดฑเตเดฑเต เดเตเดฏเตเดคเต  เดตเดฟเดฆเตเดฏเดพเตผเดคเตเดฅเดฟเดเตพเดเตเดเต เดเดฏเดเตเดเต เดเตเดเตเดเตเดเตเด 
๐๐ผ
${baseURL}/user-register?id=${parseInt(id!)}&ref=${referral_code}
๐ฅฆ
 เดธเดเดถเดฏเดเตเดเตพเดเตเดเต
๐ฅฆ
9645 9645 92
๐ฅฆ
Web: www.GreenCleanEarth.org 
Youtube /fb/insta: Green Clean Kerala
Whatsapp/Telegram : 9645 9645 92
Mail: GreenCleanKerala@gmail.Com
Follow the link to join GreenCleanEarth mission.
`;

  const [isCopied, setIsCopied] = useState(false);
  const copyToClipboard = async (text: any) => {
    try {
      await navigator.clipboard.writeText(text);
      setIsCopied(true);
      setTimeout(() => {
        setIsCopied(false);
      }, 1000);
    } catch (err) {
      toast({
        variant: "destructive",
        title: "Oops, Something went wrong!",
        description: "Please try again...",
      });
      console.error(err);
    }
  };

  return (
    <Dialog>
      <DialogTrigger asChild>
        <Button className="bg-green-600 hover:bg-green-800 my-2">
          <LinkIcon className="mr-2 h-4 w-4" />
          Get referral link
        </Button>
      </DialogTrigger>
      <DialogContent className="max-w-[calc(100%-2rem)] sm:max-w-[425px] h-[calc(100vh-4rem)] mx-auto my-4 p-0 flex flex-col">
        <div className="flex-grow overflow-y-auto p-6">
          <DialogHeader>
            <DialogTitle>Add members</DialogTitle>
            <DialogDescription></DialogDescription>
          </DialogHeader>
          <div>
            <p className="text-base">
              ๐ฅฆ เดชเตเดฐเดฟเดฏเดชเตเดชเตเดเตเดเดตเดฐเต
              <br />
              <br />
              เดเตเดฐเดณเดคเตเดคเดฟเตฝ เดจเดฟเดจเตเดจเตเด เดเดฐเตเดเตเดเดฟ เดตเตเดเตเดทเดคเตเดคเตเดเตพ  เดจเดเตเดเต เดตเดณเตผเดคเตเดคเดฟ
              เดชเดฐเดฟเดชเดพเดฒเดฟเดเตเดเต  เดเดคเดฟเดจเตเดฑเต เดเดฐเต เดฎเตเดจเตเดจเตเดฎเดพเดธเดคเตเดคเตเดฏเตเด เดตเดณเตผเดเตเด
              เดชเตเดฐเดเดเดฎเดพเดเตเดจเตเดจ เดซเตเดเตเดเต  www.GreenCleanEarth.org เดเดจเตเดจ เดตเตเดฌเตเดธเตเดฑเตเดฑเดฟเตฝ
              เดชเตเดฐเดธเดฟเดฆเตเดงเตเดเดฐเดฟเดเตเดเต  เดเดเตเดฏเดฐเดพเดทเตเดเตเดฐเดธเดญเดฏเตเดเต เดชเดฐเดฟเดธเตเดฅเดฟเดคเดฟ
              เดตเดฟเดญเดพเดเดฎเดพเดฏ เดฏเต.เดเตป.เด.เดชเดฟ.เดฏเดฟเดฒเตเดเตเดเต  เดธเดฎเตผเดชเตเดชเดฟเดเตเดเตเดตเดพเตป เดฒเดเตเดทเตเดฏเดฎเดฟเดเตเดจเตเดจ
              เดเตเดฐเตเตป เดเตเดฒเตเตป เดเตเดฐเดณ เดตเตเดเตเดทเดคเตเดคเต เดชเดฐเดฟเดชเดพเดฒเดจ เดฎเดคเตเดธเดฐเดคเตเดคเดฟเดฒเตเด  เดเดคเตเดเตเดชเตเดชเด เดเดณเตเดณ
              เดนเดฐเดฟเดค -เดเดฒเดพ- เดถเดพเดธเตเดคเตเดฐ เดฎเดคเตเดธเดฐเดเตเดเดณเดฟเดฒเตเด  เดจเดฎเตเดฎเตเดเต เดธเตเดฅเดพเดชเดจเดตเตเด
              เดชเดเตเดเตเดเตเดเตเดเตเดจเตเดจเตเดฃเตเดเต. 
              ๐ฅฆ เดจเดฎเตเดฎเตเดเต เดตเดฟเดฆเตเดฏเดพเดฒเดฏเดตเตเด เดตเตเดเตเด
              เดชเดฐเดฟเดธเดฐเดตเตเด เดฎเดพเดฒเดฟเดจเตเดฏเดฎเตเดเตเดคเดตเตเด เดนเดฐเดฟเดคเดพเดญเดตเตเด เดเดเตเดเตเดตเดพเดจเตเดณเตเดณ
              เดชเตเดฐเดตเตผเดคเตเดคเดจเดเตเดเตพ เดจเดเดคเตเดคเตเดจเตเดจ เด เดฎเดคเตเดธเดฐเดเตเดเดณเดฟเตฝ เดฎเดฟเดเดเตเด เดชเตเดฐเดเดเดจเด
              เดเตเดฏเตเดฏเตเดจเตเดจ  เดตเตเดฏเดเตเดคเดฟเดเตพเดเตเดเตเด เดธเตเดฅเดพเดชเดจเดเตเดเตพเดเตเดเตเดฎเดพเดฏเดฟ  เดชเตเดฐเตเดซเดธเตผ
              เดถเตเดญเตเดจเตเดฆเตเดฐ เดจเตเดฑเต เดชเตเดฐเดฟเดฒเตเดณเตเดณ เดเดฐเต เดฒเดเตเดทเด เดฐเตเดชเดฏเตเดเต เดชเตเดฐเดธเตเดเดพเดฐเดเตเดเดณเตเด
              เดธเดฎเตเดฎเดพเดจเดเตเดเดณเตเด เดเดฃเตเดเต. 
              ๐ฅฆ เด เดฎเดคเตเดธเดฐเดเตเดเดณเดฟเตฝ
              เดชเดเตเดเตเดเตเดเตเดเตเดตเดพเดจเดพเดฏเดฟ  เดเดฒเตเดฒเดพ เดเดงเตเดฏเดพเดชเดเดฐเตเด  เด เดฒเดฟเดเตเดเดฟเตฝ เดเตเดฒเดฟเดเตเดเต
              เดเตเดฏเตเดคเต  เดฐเดเดฟเดธเตเดเตเดฐเตเดทเตป เดจเดเดคเตเดคเดฟ เดเดฐเต เดฏเตเดธเตผ เดจเตเดฏเดฟเด เดชเดพเดธเตเดธเตโเดตเตเตผเดกเตเด
              เดเตเดฐเดฟเดฏเตเดฑเตเดฑเต เดเตเดฏเตเดคเต  เดตเดฟเดฆเตเดฏเดพเตผเดคเตเดฅเดฟเดเตพเดเตเดเต เดเดฏเดเตเดเตเดเตเดเตเดเตเดเตเดเดฏเตเด ,
              เดเดตเตผ เด เดตเตผเดทเด เดจเดเตเดเต เดตเดณเตผเดคเตเดคเดฟเดฏ เดคเตเดเดณเตเดเต เดเตเดเต  เดเดฐเต เดธเตเตฝเดซเดฟ
              เดเดเตเดคเตเดคเต, เดเดฐเต เดฎเตเดจเตเดจเตเดฎเดพเดธเด เดเตเดเตเดฎเตเดชเตเดดเตเด   เด เดตเตเดฌเตเดธเตเดฑเตเดฑเดฟเตฝ
              เดเดชเตโเดฒเตเดกเต เดเตเดฏเตเดฏเดฃเดฎเตเดจเตเดจเต  เดจเดฟเตผเดฆเตเดฆเตเดถเดฟเดเตเดเดฃเดฎเตเดจเตเดจเตเด เดเดญเตเดฏเตผเดคเตเดฅเดฟเดเตเดเตเดจเตเดจเต
              ๐ฅฆ เดคเดพเดดเตเดเตเดเตเดเตเดคเตเดค เดฒเดฟเดเตเดเดฟเตฝ เดเตเดฒเดฟเดเตเดเต เดเตเดฏเตเดคเต  เดฐเดเดฟเดธเตเดฑเตเดฑเตผ
              เดเตเดฏเตเดคเดคเดฟเดจเตเดถเตเดทเด เดฏเตเดธเตผ เดจเตเดฏเตเดฎเตเด เดชเดพเดธเตเดธเตโเดตเตเตผเดกเตเด  เดเตเดฐเดฟเดฏเตเดฑเตเดฑเต
              เดเตเดฏเตเดคเต  เดตเดฟเดฆเตเดฏเดพเตผเดคเตเดฅเดฟเดเตพเดเตเดเต เดเดฏเดเตเดเต เดเตเดเตเดเตเดเตเด 
              ๐๐ผ
            </p>
            <Link
              href={`/user-register?id=${id}&ref=${referral_code}`}
              className="text-green-600 text-base"
            >
              {baseURL}/user-register?id={parseInt(id!)}&ref={referral_code}
            </Link>
            <p className="py-2">
              ๐ฅฆ เดธเดเดถเดฏเดเตเดเตพเดเตเดเต ๐ฅฆ 9645 9645 92 ๐ฅฆ Web:
              www.GreenCleanEarth.org Youtube /fb/insta: Green Clean Kerala
              Whatsapp/Telegram : 9645 9645 92 Mail:
              GreenCleanKerala@gmail.Com Follow the link to join
              GreenCleanEarth mission.
            </p>
          </div>
        </div>
        <div className="p-2 border-t">
          <Button
            onClick={() => copyToClipboard(message)}
            className="bg-green-600 hover:bg-green-800 rounded-full w-16 h-12 flex items-center justify-center ml-auto"
          >
            {isCopied ? (
              <span className="text-xs">Copied!</span>
            ) : (
              <span className="text-xs"><Copy className="h-5 w-10" />Copy</span>
            )}
          </Button>
        </div>
      </DialogContent>
    </Dialog>
  );
}